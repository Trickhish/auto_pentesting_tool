import subprocess
import os	
import gzip

HOME = os.path.expanduser("~")

def checkcmd(cmd):
    return(os.system(f"which {cmd} > /dev/null 2>&1") == 0)

def is_online(host):
    try:
        subprocess.run(["ping", "-c", "1", "-W", "2", host], stdout=subprocess.PIPE, stderr=subprocess.PIPE, check=True)
        return(True)
    except subprocess.CalledProcessError:
        return(False)

def err(msg=""):
    print(msg)
    exit()

def isGz(dt):
    print(dt[0:2])
    return(dt[0:2] == b'\x1f\x8b')

def writeConf(dt):
    with open(HOME+"/.config/autoptt.conf", "w") as f:
        f.write("\n".join([k+":"+str(dt[k]) for k in dt]))
